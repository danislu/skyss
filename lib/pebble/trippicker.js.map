{"version":3,"sources":["pebble/trippicker.js"],"names":[],"mappings":"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","file":"pebble/trippicker.js","sourcesContent":["var UI = require('ui');\nvar Vector2 = require('vector2');\n\nvar init = function(options){\n    var currentIndex = 0,\n        bussData = options.data;\n\n    console.log('DATA: ' + JSON.stringify(bussData));\n\n    var wind = new UI.Window({\n        fullscreen: true\n    });\n\n    var counter = new UI.Text({\n        position: new Vector2(124, 5),\n        size: new Vector2(20, 30),\n        font: 'gothic-10',\n        text: 'x x'\n    });\n\n    var timetext = new UI.TimeText({\n        position: new Vector2(0, 10),\n        size: new Vector2(144, 50),\n        font: 'gothic-18-bold',\n        text: '%X',\n        textAlign: 'center',\n        backgroundColor : 'clear'\n    });\n\n    var busstext1 = new UI.Text({\n        position: new Vector2(0, 70),\n        size: new Vector2(144, 40),\n        textAlign: 'center',\n        font: 'gothic-18-bold',\n        text: 'This is not the trip you are looking for...'\n    });\n\n    var busstext2 = new UI.Text({\n        position: new Vector2(0, 130),\n        size: new Vector2(144, 40),\n        textAlign: 'center',\n        font: 'gothic-18-bold',\n        text: '...'\n    });\n\n    wind.add(counter);\n    wind.add(timetext);\n    wind.add(busstext1);\n    wind.add(busstext2);\n\n\n    /*\n    {\n      trip:\n           {\n             duration: '35',\n             start: '13.03.2016 23:14:00',\n             stop: '13.03.2016 23:49:00',\n             changecount: '1'\n            },\n          first:\n           { from: 'Dortledhaugen (Bergen)',\n             to: 'Lagunen terminal I (Bergen)',\n             line_name: 'Lagunen terminal',\n             line_no: '22',\n             kind: 'Buss',\n             travel_time: '6' } }\n      */\n\n    var updateCurrent = function(){\n        counter.text((currentIndex+1) + ' ' + bussData.length);\n\n        var tur = bussData[currentIndex];\n        if (!tur)\n            return;\n\n        busstext1.text(tur.first.line_no + ' (' + tur.first.travel_time + '/' +  tur.trip.duration + 'min): ' + tur.first.from + ' - ' + tur.first.to );\n        busstext2.text(tur.trip.start);\n    };\n\n    wind.on('click', 'select', function() {\n        //refreshData();\n    });\n\n    wind.on('click', 'back', function(){\n        wind.hide();\n\n        if (options.onCancel){\n            options.onCancel();\n        }\n    });\n\n    wind.on('click', 'up', function(){\n        if (currentIndex <= 0)\n            return;\n\n        currentIndex -= 1;\n        updateCurrent();\n    });\n\n    wind.on('click', 'down', function(){\n        if (currentIndex >= bussData.length-1)\n            return;\n\n        currentIndex += 1;\n        updateCurrent();\n    });\n    updateCurrent();\n\n    wind.show();\n};\n\n\nmodule.exports = {\n    show: init\n};\n"],"sourceRoot":"/source/"}