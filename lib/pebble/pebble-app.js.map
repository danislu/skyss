{"version":3,"sources":["pebble/pebble-app.js"],"names":[],"mappings":"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","file":"pebble/pebble-app.js","sourcesContent":["var UI = require('ui');\r\nvar Vector2 = require('vector2');\r\nvar ajax = require('ajax');\r\n\r\nvar currentIndex = 0,\r\n    bussData = [],\r\n    fra = 'Dortledhaugen',\r\n    til = 'Lagunen';\r\n\r\nvar wind = new UI.Window({\r\n    fullscreen: true\r\n});\r\n\r\nvar counter = new UI.Text({\r\n    position: new Vector2(124, 5),\r\n    size: new Vector2(20, 30),\r\n    font: 'gothic-10',\r\n    text: 'x x'\r\n});\r\nwind.add(counter);\r\n\r\nvar timetext = new UI.TimeText({\r\n    position: new Vector2(0, 10),\r\n    size: new Vector2(144, 50),\r\n    font: 'gothic-24-bold',\r\n    text: '%x %X',\r\n    textAlign: 'center',\r\n    backgroundColor : 'clear'\r\n});\r\nwind.add(timetext);\r\n\r\nvar busstext1 = new UI.Text({\r\n    position: new Vector2(0, 70),\r\n    size: new Vector2(144, 40),\r\n    textAlign: 'center',\r\n    font: 'gothic-18-bold',\r\n    text: 'Det g√•r en buss fra ' + fra + ' til ' + til\r\n});\r\n\r\nvar busstext2 = new UI.Text({\r\n    position: new Vector2(0, 130),\r\n    size: new Vector2(144, 40),\r\n    textAlign: 'center',\r\n    font: 'gothic-24-bold',\r\n    text: 'dummy1'\r\n});\r\n\r\nwind.add(busstext1);\r\nwind.add(busstext2);\r\nwind.show();\r\n\r\nvar updateCurrent = function(){\r\n    counter.text((currentIndex+1) + ' ' + bussData.length);\r\n    busstext2.text('kl. ' + bussData[currentIndex].time);\r\n};\r\n\r\nvar refreshData = function(){\r\n    busstext2.text('refreshing');\r\n\r\n    var options = {\r\n        url: 'http://82.196.7.135:8181/departures?from=' + fra + '&to=' + til,\r\n        type: 'json'\r\n    };\r\n\r\n    var successCallback = function(data /*, status, request*/) {\r\n        bussData = data || [];\r\n        currentIndex = 0;\r\n        updateCurrent();\r\n    };\r\n\r\n    var errorCallback = function(error /*, status, request*/) {\r\n        busstext1.text('The ajax request failed');\r\n        busstext2.text(JSON.stringify(error));\r\n\r\n        currentIndex = 0;\r\n        updateCurrent();\r\n    };\r\n\r\n    ajax(options, successCallback, errorCallback);\r\n};\r\n\r\nwind.on('click', 'select', function() {\r\n    refreshData();\r\n});\r\n\r\nwind.on('click', 'back', function(){\r\n    wind.hide();\r\n});\r\n\r\nwind.on('click', 'up', function(){\r\n    if (currentIndex <= 0)\r\n        return;\r\n\r\n    currentIndex -= 1;\r\n    updateCurrent();\r\n});\r\n\r\nwind.on('click', 'down', function(){\r\n    if (currentIndex >= bussData.length-1)\r\n        return;\r\n\r\n    currentIndex += 1;\r\n    updateCurrent();\r\n});\r\n\r\nrefreshData();\r\n"],"sourceRoot":"/source/"}