{"version":3,"sources":["pebble/pebble-app.js"],"names":[],"mappings":"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","file":"pebble/pebble-app.js","sourcesContent":["var UI = require('ui');\nvar Vector2 = require('vector2');\nvar ajax = require('ajax');\n\nvar currentIndex = 0,\n    bussData = [],\n    fra = 'Dortledhaugen',\n    til = 'Lagunen';\n\nvar wind = new UI.Window({\n    fullscreen: true\n});\n\nvar counter = new UI.Text({\n    position: new Vector2(124, 5),\n    size: new Vector2(20, 30),\n    font: 'gothic-10',\n    text: 'x x'\n});\nwind.add(counter);\n\nvar timetext = new UI.TimeText({\n    position: new Vector2(0, 10),\n    size: new Vector2(144, 50),\n    font: 'gothic-24-bold',\n    text: '%x %X',\n    textAlign: 'center',\n    backgroundColor : 'clear'\n});\nwind.add(timetext);\n\nvar busstext1 = new UI.Text({\n    position: new Vector2(0, 70),\n    size: new Vector2(144, 40),\n    textAlign: 'center',\n    font: 'gothic-18-bold',\n    text: 'Det g√•r en buss fra ' + fra + ' til ' + til\n});\n\nvar busstext2 = new UI.Text({\n    position: new Vector2(0, 130),\n    size: new Vector2(144, 40),\n    textAlign: 'center',\n    font: 'gothic-24-bold',\n    text: 'dummy1'\n});\n\nwind.add(busstext1);\nwind.add(busstext2);\nwind.show();\n\nvar updateCurrent = function(){\n    counter.text((currentIndex+1) + ' ' + bussData.length);\n    busstext2.text('kl. ' + bussData[currentIndex].time);\n};\n\nvar refreshData = function(){\n    busstext2.text('refreshing');\n\n    var options = {\n        url: 'http://82.196.7.135:8181/departures?from=' + fra + '&to=' + til,\n        type: 'json'\n    };\n\n    var successCallback = function(data /*, status, request*/) {\n        bussData = data || [];\n        currentIndex = 0;\n        updateCurrent();\n    };\n\n    var errorCallback = function(error /*, status, request*/) {\n        busstext1.text('The ajax request failed');\n        busstext2.text(JSON.stringify(error));\n\n        currentIndex = 0;\n        updateCurrent();\n    };\n\n    ajax(options, successCallback, errorCallback);\n};\n\nwind.on('click', 'select', function() {\n    refreshData();\n});\n\nwind.on('click', 'back', function(){\n    wind.hide();\n});\n\nwind.on('click', 'up', function(){\n    if (currentIndex <= 0)\n        return;\n\n    currentIndex -= 1;\n    updateCurrent();\n});\n\nwind.on('click', 'down', function(){\n    if (currentIndex >= bussData.length-1)\n        return;\n\n    currentIndex += 1;\n    updateCurrent();\n});\n\nrefreshData();\n"],"sourceRoot":"/source/"}