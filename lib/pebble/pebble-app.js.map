{"version":3,"sources":["pebble/pebble-app.js"],"names":[],"mappings":"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","file":"pebble/pebble-app.js","sourcesContent":["var UI = require('ui');\nvar Vector2 = require('vector2');\nvar Settings = require('settings');\nvar skysser = require('skysser');\n\nSettings.config({\n    url: 'http://www.example.com'\n}, function(e){\n    console.log(e);\n});\n/*\nSettings.option({\n    ui: {\n        backgroundColor: 'black',\n        textColor: 'white'\n    },\n    destinations: [\n        {\n  name: '',\n  lat: 0,\n  lng: 0\n        },\n        {\n          name: '',\n          lat: 0,\n          lng: 0\n        }\n    ]\n    });\n*/\nvar currentIndex = 0,\n    bussData = [],\n    //fra = 'Dortledhaugen',\n    til = 'Danmarks plass (Bergen)';\n//    til = 'Lagunen';\n\nvar wind = new UI.Window({\n    fullscreen: true\n});\n\nvar counter = new UI.Text({\n    position: new Vector2(124, 5),\n    size: new Vector2(20, 30),\n    font: 'gothic-10',\n    text: 'x x'\n});\n\nwind.add(counter);\n\nvar timetext = new UI.TimeText({\n    position: new Vector2(0, 10),\n    size: new Vector2(144, 50),\n    font: 'gothic-18-bold',\n    text: '%X',\n    textAlign: 'center',\n    backgroundColor : 'clear'\n});\nwind.add(timetext);\n\nvar busstext1 = new UI.Text({\n    position: new Vector2(0, 70),\n    size: new Vector2(144, 40),\n    textAlign: 'center',\n    font: 'gothic-18-bold',\n    text: 'Refreshing...'\n});\n\nvar busstext2 = new UI.Text({\n    position: new Vector2(0, 130),\n    size: new Vector2(144, 40),\n    textAlign: 'center',\n    font: 'gothic-18-bold',\n    text: 'dummy1'\n});\n\nwind.add(busstext1);\nwind.add(busstext2);\nwind.show();\n\n/*\n{\n  trip:\n       {\n         duration: '35',\n         start: '13.03.2016 23:14:00',\n         stop: '13.03.2016 23:49:00',\n         changecount: '1'\n        },\n      first:\n       { from: 'Dortledhaugen (Bergen)',\n         to: 'Lagunen terminal I (Bergen)',\n         line_name: 'Lagunen terminal',\n         line_no: '22',\n         kind: 'Buss',\n         travel_time: '6' } }\n  */\n\nvar updateCurrent = function(){\n    counter.text((currentIndex+1) + ' ' + bussData.length);\n\n    var tur = bussData[currentIndex];\n    busstext1.text(tur.first.line_no + ' (' + tur.first.travel_time + '/' +  tur.trip.duration + 'min): ' + tur.first.from + ' - ' + tur.first.to );\n    busstext2.text(tur.trip.start);\n};\n\nvar refreshData = function(){\n    busstext2.text('refreshing');\n\n    skysser.update(til, function(error, data){\n        if (error){\n            busstext1.text('Error:');\n            busstext2.text(error.error);\n            return;\n        }\n\n        bussData = data || [];\n\n        currentIndex = 0;\n        updateCurrent();\n    });\n};\n\nwind.on('click', 'select', function() {\n    refreshData();\n});\n\nwind.on('click', 'back', function(){\n    wind.hide();\n});\n\nwind.on('click', 'up', function(){\n    if (currentIndex <= 0)\n        return;\n\n    currentIndex -= 1;\n    updateCurrent();\n});\n\nwind.on('click', 'down', function(){\n    if (currentIndex >= bussData.length-1)\n        return;\n\n    currentIndex += 1;\n    updateCurrent();\n});\n\n\nrefreshData();\n"],"sourceRoot":"/source/"}