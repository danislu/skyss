{"version":3,"sources":["pebble/destpicker.js"],"names":[],"mappings":";;AAAA,IAAI,KAAK,QAAQ,IAAR,CAAL;AACJ,IAAI,UAAU,QAAQ,SAAR,CAAV;;AAEJ,IAAI,OAAO,SAAP,IAAO,CAAS,OAAT,EAAkB;AACzB,QAAI,eAAe,QAAQ,YAAR;QACf,WAAW,EAAX;QACA,gBAAgB,CAAhB;QACA,CAHJ;QAGO,IAHP;QAGa,IAHb,CADyB;;AAMzB,QAAI,OAAO,IAAI,GAAG,MAAH,CAAU;AACrB,oBAAY,IAAZ;KADO,CAAP,CANqB;;AAUzB,QAAI,UAAU,SAAV,OAAU,CAAS,KAAT,EAAgB;AAC1B,eAAO,KAAC,KAAU,aAAV,GACF,gBADC,GAED,WAFC,CADmB;KAAhB,CAVW;;AAgBzB,SAAK,CAAL,IAAU,YAAV,EAAwB;AACpB,YAAI,aAAa,cAAb,CAA4B,CAA5B,CAAJ,EAAoC;AAChC,mBAAO,aAAa,CAAb,CAAP,CADgC;AAEhC,mBAAO,IAAI,GAAG,IAAH,CAAQ;AACf,0BAAU,IAAI,OAAJ,CAAY,CAAZ,EAAe,KAAM,KAAK,CAAL,CAA/B;AACA,sBAAM,IAAI,OAAJ,CAAY,GAAZ,EAAiB,EAAjB,CAAN;AACA,sBAAM,QAAQ,CAAR,CAAN;AACA,sBAAM,IAAN;aAJG,CAAP,CAFgC;AAQhC,qBAAS,IAAT,CAAc,IAAd,EARgC;AAShC,iBAAK,GAAL,CAAS,IAAT,EATgC;SAApC;KADJ;;AAcA,QAAI,aAAa,SAAb,UAAa,GAAU;AACvB,aAAK,IAAI,CAAJ,IAAS,QAAd,EAAwB;AACpB,gBAAI,SAAS,cAAT,CAAwB,CAAxB,CAAJ,EAAgC;AAC5B,yBAAS,CAAT,EAAY,IAAZ,CAAiB,QAAQ,CAAR,CAAjB,EAD4B;aAAhC;SADJ;KADa,CA9BQ;;AAsCzB,SAAK,EAAL,CAAQ,OAAR,EAAiB,QAAjB,EAA2B,YAAW;AAClC,gBAAQ,qBAAR,CAA8B,aAAa,aAAb,CAA9B,EADkC;KAAX,CAA3B,CAtCyB;;AA0CzB,SAAK,EAAL,CAAQ,OAAR,EAAiB,MAAjB,EAAyB,YAAU;AAC/B,aAAK,IAAL,GAD+B;AAE/B,gBAAQ,QAAR,GAF+B;KAAV,CAAzB,CA1CyB;;AA+CzB,SAAK,EAAL,CAAQ,OAAR,EAAiB,IAAjB,EAAuB,YAAU;AAC7B,YAAI,iBAAiB,CAAjB,EAAmB;AACnB,mBADmB;SAAvB;AAGA,wBAJ6B;;AAM7B,qBAN6B;KAAV,CAAvB,CA/CyB;;AAwDzB,SAAK,EAAL,CAAQ,OAAR,EAAiB,MAAjB,EAAyB,YAAU;AAC/B,YAAI,iBAAiB,aAAa,MAAb,GAAoB,CAApB,EAAsB;AACvC,mBADuC;SAA3C;AAGA,wBAJ+B;;AAM/B,qBAN+B;KAAV,CAAzB,CAxDyB;;AAiEzB,iBAjEyB;;AAmEzB,SAAK,IAAL,GAnEyB;CAAlB;;AAsEX,OAAO,OAAP,GAAiB;AACb,UAAM,IAAN;CADJ","file":"pebble/destpicker.js","sourcesContent":["var UI = require('ui');\nvar Vector2 = require('vector2');\n\nvar init = function(options) {\n    var destinations = options.destinations,\n        destText = [],\n        selectedIndex = 0,\n        i, dest, text;\n\n    var wind = new UI.Window({\n        fullscreen: true\n    });\n\n    var getFont = function(index) {\n        return (index === selectedIndex)\n            ? 'gothic-18-bold'\n            : 'gothic-18';\n    };\n\n    for (i in destinations) {\n        if (destinations.hasOwnProperty(i)) {\n            dest = destinations[i];\n            text = new UI.Text({\n                position: new Vector2(0, 10 + (20 * i)),\n                size: new Vector2(144, 20),\n                font: getFont(i),\n                text: dest\n            });\n            destText.push(text);\n            wind.add(text);\n        }\n    }\n\n    var updateList = function(){\n        for (var i in destText) {\n            if (destText.hasOwnProperty(i)) {\n                destText[i].font(getFont(i));\n            }\n        }\n    };\n\n    wind.on('click', 'select', function() {\n        options.onDestinationSelected(destinations[selectedIndex]);\n    });\n\n    wind.on('click', 'back', function(){\n        wind.hide();\n        options.onCancel();\n    });\n\n    wind.on('click', 'up', function(){\n        if (selectedIndex <= 0){\n            return;\n        }\n        selectedIndex--;\n\n        updateList();\n    });\n\n    wind.on('click', 'down', function(){\n        if (selectedIndex >= destinations.length-1){\n            return;\n        }\n        selectedIndex++;\n\n        updateList();\n    });\n\n    updateList();\n\n    wind.show();\n};\n\nmodule.exports = {\n    show: init\n};\n"],"sourceRoot":"/source/"}