{"version":3,"sources":["server/utils.js"],"names":[],"mappings":";;;;;;QAYgB;;;;;;;;;;AATT,IAAM,sCAAe;AACxB,mBAAe,yBAAf;AACA,aAAS,kBAAT;AACA,mBAAe,wBAAf;CAHS;;AAMN,IAAM,kDAAqB,uEAArB;;AAGN,SAAS,YAAT,CAAsB,GAAtB,EAA2B,EAA3B,EAA8B;AACjC,WAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAmB;AAClC,+BAAQ;AACJ,oBAAQ,KAAR;AACA,iBAAK,GAAL;SAFJ,EAGG,UAAC,KAAD,EAAQ,QAAR,EAAkB,IAAlB,EAA2B;AAC1B,gBAAI,KAAJ,EAAW;AACP,uBAAO,KAAP,EADO;AAEP,uBAFO;aAAX;;AAKA,qCAAY,IAAZ,EAAkB,UAAC,GAAD,EAAM,MAAN,EAAgB;AAC9B,oBAAI,GAAJ,EAAS;AACL,2BAAO,GAAP,EADK;AAEL,2BAFK;iBAAT;;AAKA,oBAAI;AACA,uBAAG,MAAH,EAAW,OAAX,EAAoB,MAApB,EADA;iBAAJ,CAEE,OAAO,CAAP,EAAU;AACR,2BAAO,CAAP,EADQ;iBAAV;aARY,CAAlB,CAN0B;SAA3B,CAHH,CADkC;KAAnB,CAAnB,CADiC;CAA9B","file":"server/utils.js","sourcesContent":["import request from 'request';\nimport { parseString } from 'xml2js';\n\nexport const HOLDEPLASSER = {\n    Danmarksplass: 'Danmarks plass (Bergen)',\n    Lagunen: 'Lagunen (Bergen)',\n    Dortledhaugen: 'Dortledhaugen (Bergen)'\n};\n\nexport const baseTravelMagicUrl = 'http://reiseplanlegger.skyss.no/scripts/travelmagic/TravelMagicWE.dll';\n\n\nexport function getXmlToJson(url, fn){\n    return new Promise((resolve, reject)=>{\n        request({\n            method: 'get',\n            uri: url\n        }, (error, response, body) => {\n            if (error) {\n                reject(error);\n                return;\n            }\n\n            parseString(body, (err, result)=> {\n                if (err) {\n                    reject(err);\n                    return;\n                }\n\n                try {\n                    fn(result, resolve, reject);\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        });\n    });\n}\n"],"sourceRoot":"/source/"}